prop<-c((11273+1628+678)/, 21752, 9849, 7055)
111<-anes_use%>%select(activity)%>%filter(!is.na(activity))
fff<-anes_use%>%select(activity)%>%filter(!is.na(activity))
fff
View(fff)
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
nrow(anes_use%>%select(activity)%>%filter(!is.na(activity)))
nrow(anes_use%>%select(tv)%>%filter(!is.na(tv)))
nrow(anes_use%>%select(radio)%>%filter(!is.na(radio)))
nrow(anes_use%>%select(read)%>%filter(!is.na(read)))
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="Which way is most popular for people to engage in election campaigns(Overall)")
View(anes_dat)
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="Which way is most popular for people to engage in election campaigns(Overall)")
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="The proportion of people would choose a specific way to engage in election campaigns")
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="In which way would people like to engage in election campaigns")
nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))
)
nrow(anes_use%>%select(tv)%>%filter(!is.na(tv)))
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="In which way would people like to know about and participate in election campaigns")
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="In which way would people like to get involved in election campaigns")
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="In which way would people like to get involved in election campaigns")
library(haven)
anes_dat <-
read_sav("C:/Columbia University/GR5243/Project1-zx2338/data/anes_timeseries_cdf.sav")
barplot(table(anes_dat$VCF0004),
las=2,
main="number of respondents over the years")
library(tidyverse)
anes_NAs<-anes_dat%>%
summarise_all(list(na.mean=function(x){
mean(is.na(x))}))
anes_NAs<-data.frame(nas=unlist(t(anes_NAs)))
ggplot(anes_NAs, aes(x=nas)) +
geom_histogram(color="black",
fill="white",
binwidth=0.05)+
labs(title="Fractions of missing values")
Election_years<-as.character(seq(1952, 2016, 4))
anes_use<-anes_dat%>%
mutate(
year=as_factor(VCF0004),
vote=as_factor(VCF0706),
age=as_factor(VCF0102),
activity=as_factor(VCF0723a),
tv=as_factor(VCF0724),
radio=as_factor(VCF0725),
read=as_factor(VCF0726)
)%>%
filter(year %in% Election_years)
library(data.table)
data.table(anes_use%>%
select(year, vote, age, activity, tv, radio, read)%>%
filter(!is.na(vote) &!is.na(activity) & !is.na(tv) & !is.na(radio) & !is.na(read))%>%
sample_n(30))
anes_use <- anes_use%>%select(year, vote, age, activity, tv, radio, read)
save(anes_use, file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
table(anes_use$activity)[-1]
table(anes_use$tv)[3]
table(anes_use$radio)[3]
table(anes_use$read)[3]
prop<-c((11273+1628+678)/nrow(anes_use%>%select(activity)%>%filter(!is.na(activity))),
21752/nrow(anes_use%>%select(tv)%>%filter(!is.na(tv))),
9849/nrow(anes_use%>%select(radio)%>%filter(!is.na(radio))),
7055/nrow(anes_use%>%select(read)%>%filter(!is.na(read))))
ways<-c("activity", "tv", "radio", "read")
data<-data.frame(prop=prop, ways=ways)
ggplot(data, aes(x=ways, y=prop))+
geom_bar(stat = "identity")+
labs(title="In which way would people like to get involved in election campaigns")
load(file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
anes_activity_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(activity))%>%
group_by(year, age)%>%
count(activity)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_activity_age_year,
aes(x=year, y=prop, fill=activity)) +
geom_bar(stat="identity", colour="black")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year,
aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity", colour="black")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_radio_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(radio))%>%
group_by(year, age)%>%
count(radio)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_radio_age_year,
aes(x=year, y=prop, fill=radio)) +
geom_bar(stat="identity", colour="black")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year,
aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity", colour="black")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
Election_years<-as.character(seq(1952, 2016, 4))
anes_use<-anes_dat%>%
mutate(
year=as_factor(VCF0004),
vote=as_factor(VCF0706),
age=as_factor(VCF0102),
activity=as_factor(VCF0723a),
tv=as_factor(VCF0724),
radio=as_factor(VCF0725),
read=as_factor(VCF0726)
)%>%
filter(year %in% Election_years)
library(data.table)
data.table(anes_use%>%
select(year, vote, age, activity, tv, radio, read)%>%
filter(!is.na(vote) &!is.na(activity) & !is.na(tv) & !is.na(radio) & !is.na(read))%>%
sample_n(30))
anes_use <- anes_use%>%select(year, vote, age, activity, tv, radio, read)
save(anes_use, file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
load(file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
anes_activity_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(activity))%>%
group_by(year, age)%>%
count(activity)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_activity_age_year, aes(x=year, y=prop, fill=activity)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year, aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_radio_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(radio))%>%
group_by(year, age)%>%
count(radio)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_radio_age_year, aes(x=year, y=prop, fill=radio)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=2) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=3) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=2) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_radio_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(radio))%>%
group_by(year, age)%>%
count(radio)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_radio_age_year, aes(x=year, y=prop, fill=radio)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=2) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_radio_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(radio))%>%
group_by(year, age)%>%
count(radio)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_radio_age_year, aes(x=year, y=prop, fill=radio)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
Election_years<-as.character(seq(1952, 2016, 4))
anes_use<-anes_dat%>%
mutate(
year=as_factor(VCF0004),
age=as_factor(VCF0102),
activity=as_factor(VCF0723a),
tv=as_factor(VCF0724),
radio=as_factor(VCF0725),
read=as_factor(VCF0726)
)%>%
filter(year %in% Election_years)
library(data.table)
data.table(anes_use%>%
select(year, age, activity, tv, radio, read)%>%
filter(!is.na(vote) &!is.na(activity) & !is.na(tv) & !is.na(radio) & !is.na(read))%>%
sample_n(30))
Election_years<-as.character(seq(1952, 2016, 4))
anes_use<-anes_dat%>%
mutate(
year=as_factor(VCF0004),
age=as_factor(VCF0102),
activity=as_factor(VCF0723a),
tv=as_factor(VCF0724),
radio=as_factor(VCF0725),
read=as_factor(VCF0726)
)%>%
filter(year %in% Election_years)
library(data.table)
data.table(anes_use%>%
select(year, age, activity, tv, radio, read)%>%
filter(!is.na(activity) & !is.na(tv) & !is.na(radio) & !is.na(read))%>%
sample_n(30))
anes_use <- anes_use%>%select(year, age, activity, tv, radio, read)
save(anes_use, file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
seq(1952, 2016, 4)
load(file="C:/Columbia University/GR5243/Project1-zx2338/output/data_use.RData")
anes_activity_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(activity))%>%
group_by(year, age)%>%
count(activity)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_activity_age_year, aes(x=year, y=prop, fill=activity)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_radio_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(radio))%>%
group_by(year, age)%>%
count(radio)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_radio_age_year, aes(x=year, y=prop, fill=radio)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year, aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year, aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year, aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns in different ear")
anes_tv_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(tv))%>%
group_by(year, age)%>%
count(tv)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_tv_age_year, aes(x=year, y=prop, fill=tv)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different age engage in election campaigns in different era")
anes_read_age_year = anes_use %>%
filter(!is.na(age) & !is.na(year) & !is.na(read))%>%
group_by(year, age)%>%
count(read)%>%
group_by(year, age)%>%
mutate(
prop=n/sum(n)
)
ggplot(anes_read_age_year, aes(x=year, y=prop, fill=read)) +
geom_bar(stat="identity")+
facet_wrap(~age, ncol=1) +
theme(axis.text.x = element_text(angle = 90))+
labs(title="How do people of different ages engage in election campaigns in different years")
